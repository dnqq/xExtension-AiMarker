# xExtension-AiMarker

一个FreshRSS扩展，使用人工智能(LLM)来智能过滤文章并提供摘要。

## 功能

- 使用OpenAI API自动判断文章是否值得阅读
- 自动将不值得阅读的文章标记为已读，减少信息过载
- 在文章内容前自动添加AI生成的摘要
- 对非中文文章自动翻译标题
- 自动为文章添加AI生成的相关标签
- 可自定义系统提示词来指导AI的判断标准
- 支持配置OpenAI API密钥和代理URL

## 使用方法

1. 在FreshRSS的扩展管理页面中启用AiMarker扩展
2. 配置您的OpenAI API密钥和代理URL(如需)
3. 自定义系统提示词以符合您的过滤标准
4. 正常使用FreshRSS，插件会自动处理新文章

## 工作原理

扩展会在显示文章时：

1. 向AI发送文章内容进行分析
2. 获取AI返回的评价、摘要、标签和翻译标题
3. 根据AI评分（quality_score > 3.0）或阅读推荐来判断文章价值
4. 自动将不值得阅读的文章标记为已读
5. 在文章内容前添加AI生成的摘要
6. 为文章添加AI生成的相关标签
7. 如果原标题不是中文，将替换为AI翻译的中文标题

## 判断文章价值的标准

扩展使用以下标准来判断文章是否值得阅读：

1. **主要标准**：quality_score > 3.0（满分5分）
2. **备用标准**：当没有quality_score时，检查reading_recommendation是否包含"值得阅读"

符合任一标准的文章会保留在未读列表中，不符合的文章会被自动标记为已读。

## AI返回的JSON数据结构

```json
{
  "translated_title": "标题的中文翻译（如果原标题不是中文）",
  "tags": ["标签1", "标签2", "标签3"],
  "abstract": "文章摘要内容（100-200字）",
  "evaluation_reason": "评价原因",
  "quality_score": 4.5,
  "reading_recommendation": "非常值得阅读"
}
```

## 注意事项

- 需要有效的OpenAI API密钥
- 处理大量文章可能会消耗API配额
- 系统提示词的质量会直接影响过滤效果
- 推荐使用支持更长上下文的模型（如GPT-4）以获取更好的摘要效果
- AI生成的标签会与文章原有标签合并，不会覆盖原有标签
